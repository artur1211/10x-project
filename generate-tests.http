### Flashcard Generation API Tests
### Base URL: http://localhost:3000

### Test 1: Valid request with minimum length text (1000 characters)
POST http://localhost:3000/api/flashcards/generate
Content-Type: application/json

{
  "input_text": "Photosynthesis is the process by which plants convert light energy into chemical energy. This process occurs in the chloroplasts of plant cells and involves two main stages: the light-dependent reactions and the light-independent reactions (Calvin cycle). During the light-dependent reactions, chlorophyll and other pigments absorb light energy, which is used to split water molecules and produce ATP and NADPH. These energy-rich molecules are then used in the Calvin cycle to convert carbon dioxide into glucose. The overall equation for photosynthesis is: 6CO2 + 6H2O + light energy → C6H12O6 + 6O2. This process is essential for life on Earth as it produces oxygen and serves as the foundation of most food chains. Plants, algae, and certain bacteria are capable of photosynthesis. The efficiency of photosynthesis varies depending on factors such as light intensity, carbon dioxide concentration, temperature, and water availability. Understanding photosynthesis is crucial for agriculture, climate science, and developing sustainable energy solutions. Researchers continue to study this complex process to improve crop yields and develop artificial photosynthesis technologies."
}

###

### Test 2: Valid request with longer text (2000+ characters)
POST http://localhost:3000/api/flashcards/generate
Content-Type: application/json

{
  "input_text": "The Pythagorean theorem states that in a right-angled triangle, the square of the length of the hypotenuse (the side opposite the right angle) is equal to the sum of the squares of the lengths of the other two sides. This can be written as a² + b² = c², where c represents the length of the hypotenuse and a and b represent the lengths of the other two sides. This fundamental theorem has numerous applications in mathematics, physics, engineering, and everyday life. It was known to ancient civilizations, including the Babylonians and Indians, but is named after the Greek mathematician Pythagoras who lived around 570-495 BCE. The theorem can be proven in many different ways - over 400 proofs have been documented throughout history. One of the most elegant proofs involves rearranging four identical right triangles within two squares of equal area. In three-dimensional space, the theorem extends to the relationship between the diagonal of a rectangular box and its sides. The distance formula in coordinate geometry is a direct application of the Pythagorean theorem. In physics, it's used to calculate resultant vectors and in navigation for determining distances. The theorem also forms the basis for trigonometric identities and is fundamental to Euclidean geometry. Modern applications include computer graphics, GPS technology, architecture, and construction. The Pythagorean theorem demonstrates the beauty and universality of mathematical truths, remaining as relevant today as it was thousands of years ago. Students worldwide learn this theorem as one of their first encounters with mathematical proof and abstract reasoning. Its simplicity and power make it one of the most important theorems in all of mathematics, serving as a gateway to more advanced concepts in geometry, algebra, and beyond."
}

###

### Test 3: Invalid - text too short (less than 1000 characters)
POST http://localhost:3000/api/flashcards/generate
Content-Type: application/json

{
  "input_text": "This text is too short. It only contains a few hundred characters when the API requires at least 1000 characters. This should trigger a validation error from the Zod schema. Adding more text here to make it longer but still under the 1000 character minimum requirement for the input_text field. The API should return a 400 Bad Request status with validation error details."
}

###

### Test 4: Invalid - empty text
POST http://localhost:3000/api/flashcards/generate
Content-Type: application/json

{
  "input_text": ""
}

###

### Test 5: Invalid - missing input_text field
POST http://localhost:3000/api/flashcards/generate
Content-Type: application/json

{
  "wrong_field": "Some text here"
}

###

### Test 6: Invalid - null input_text
POST http://localhost:3000/api/flashcards/generate
Content-Type: application/json

{
  "input_text": null
}

###

### Test 7: Invalid - input_text is not a string
POST http://localhost:3000/api/flashcards/generate
Content-Type: application/json

{
  "input_text": 12345
}

###

### Test 9: Invalid - malformed JSON
POST http://localhost:3000/api/flashcards/generate
Content-Type: application/json

{
  "input_text": "Valid text",
}

###

### Test 10: Valid request with maximum length text (10000 characters)
POST http://localhost:3000/api/flashcards/generate
Content-Type: application/json

{
  "input_text": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. ".repeat(20)
}

###

### HTTPie Command Examples:
###
### Test 1 (Valid):
### http POST http://localhost:3000/api/flashcards/generate input_text="Photosynthesis is the process by which plants convert light energy into chemical energy."
###
### Test 2 (Valid with longer text):
### http POST http://localhost:3000/api/flashcards/generate input_text="The Pythagorean theorem states that in a right-angled triangle, the square of the length of the hypotenuse is equal to the sum of the squares of the lengths of the other two sides."
###
### Test 3 (Invalid - too short):
### http POST http://localhost:3000/api/flashcards/generate input_text="Short"
###
### Test 4 (Invalid - empty):
### http POST http://localhost:3000/api/flashcards/generate input_text=""
###
### Test 5 (Invalid - missing field):
### http POST http://localhost:3000/api/flashcards/generate wrong_field="Some text"
###
### Test 6 (Check response format):
### http POST http://localhost:3000/api/flashcards/generate input_text="Test flashcard generation with valid text" --print=hbHB
###
### Test 7 (Verbose output with timing):
### http --verbose --print=hbHB POST http://localhost:3000/api/flashcards/generate input_text="Verbose test for timing analysis"